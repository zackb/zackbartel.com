{{ template "_header.html" .}}

<body>
    {{ template "_nav.html" .}}
    <div class="prompt">ls -la /blog</div>
    <h1>Blog</h1>
    <p class="subtitle">Thoughts on systems, code, and infrastructure</p>

    <div class="posts">
        {{ $year := 0 }}
        {{ range $.Posts }}
        {{ if not .Draft }}
        {{- if not (eq .DatePublished.Year $year) }}
        {{- if gt $year 0 }}
    </div>
    {{- end }}
    <div class="year-section">
        <h2 class="year-header">{{ .DatePublished.Year }}</h2>
        {{- $year = .DatePublished.Year -}}
        {{ end }}
        <article class="post-item">
            <time class="post-date">{{ .DatePublished.Format "Jan 02" }}</time>
            <div class="post-content">
                <a href="/{{ .UrlPath }}" class="post-title">{{ .Title }}</a>
                {{ if .Description }}
                <p class="post-description">{{ .Description }}</p>
                {{ end }}
                {{ if .Tags }}
                <div class="post-tags">
                    {{ range .Tags }}
                    <span class="tag">{{ . }}</span>
                    {{ end }}
                </div>
                {{ end }}
            </div>
        </article>
        {{ end }}
        {{ end }}
    </div>
    </div>

    <div style="margin-top: 3rem; opacity: 0.5;">
        <span class="blink">_</span>
    </div>
</body>

</html>



{{ template "_footer.html" .}}
